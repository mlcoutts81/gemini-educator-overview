<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gemini Teacher Series Impact Report</title>
    <!-- Tailwind CSS - High Reliability CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React & Charting Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prop-types/15.8.1/prop-types.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/recharts/2.12.7/Recharts.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800;900&display=swap');
        body { font-family: 'Inter', sans-serif; background-color: #f1f5f9; color: #0f172a; }
        .recharts-text { font-size: 10px; font-weight: 700; fill: #475569; }
        .tab-active { background-color: #1d4ed8; color: white; box-shadow: 0 10px 15px -3px rgba(29, 78, 216, 0.2); }
        .loading-screen { display: flex; flex-direction: column; justify-content: center; align-items: center; height: 100vh; }
        .card-shadow { box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.05), 0 2px 4px -2px rgb(0 0 0 / 0.05); }
        .stat-value { letter-spacing: -0.05em; }
        .scroll-hide::-webkit-scrollbar { display: none; }
        .scroll-hide { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
</head>
<body>
    <div id="root">
        <div class="loading-screen">
            <div class="animate-spin rounded-full h-10 w-10 border-b-2 border-blue-700 mb-4"></div>
            <p class="text-slate-500 font-bold uppercase tracking-widest text-[10px]">Processing Session Feedback...</p>
        </div>
    </div>

    <script>
        const initApp = () => {
            if (!window.Recharts || !window.React || !window.ReactDOM) {
                setTimeout(initApp, 100);
                return;
            }

            const React = window.React;
            const e = React.createElement;
            const { 
                BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, 
                PieChart, Cell, Pie, RadarChart, PolarGrid, PolarAngleAxis, Radar
            } = window.Recharts;

            const COLORS = ['#1d4ed8', '#059669', '#d97706', '#7c3aed', '#dc2626'];

            // Data compiled from Forms 1, 2, and 3
            const DATA = {
                trainerPerformance: {
                    overall: 4.95,
                    knowledge: 4.98,
                    clarity: 4.94,
                    engagement: 4.96,
                    pacing: 4.82
                },
                sessions: [
                    {
                        id: 1,
                        title: "Session 1: Prompting & Planning",
                        focus: "Role, Context, Task, Format Framework",
                        preConf: 1.8,
                        postConf: 4.2,
                        metric: "Framework Adoption",
                        metricVal: "92%",
                        summary: "Teachers successfully shifted from basic 'search style' queries to structured educational prompting."
                    },
                    {
                        id: 2,
                        title: "Session 2: NotebookLM",
                        focus: "Source Grounding & Curriculum Analysis",
                        preConf: 2.3, // Estimated based on initial sentiment
                        postConf: 4.5,
                        metric: "Accuracy Rating",
                        metricVal: "4.8/5",
                        summary: "Significant interest in using 'Audio Overviews' to support ASN learners and accurate grounding in course specs."
                    },
                    {
                        id: 3,
                        title: "Session 3: Gemini Canvas",
                        focus: "Co-authoring & Multi-modal Creation",
                        preConf: 2.1,
                        postConf: 4.4,
                        metric: "ASN Benefit Belief",
                        metricVal: "94%",
                        summary: "High confidence in generating rubrics and assessment designs aligned to CfE levels."
                    }
                ],
                learnerSentiment: {
                    comfortScore: 78, // % comfortable with learners using AI in Glow
                    views: [
                        { name: 'Essential for Careers', value: 45 },
                        { name: 'Valuable but Unready', value: 35 },
                        { name: 'Needs Scaffolding', value: 15 },
                        { name: 'Concerns/Risks', value: 5 }
                    ]
                },
                roadmap: [
                    { step: "Subject-specific prompt libraries for Level 3/4", type: "Resource" },
                    { step: "Practical 'Choice Board' templates for ASN", type: "Template" },
                    { step: "Glow Ethical Usage Framework for Pupils", type: "Policy" },
                    { step: "Google Workspace integration workshops", type: "Training" }
                ]
            };

            const App = () => {
                const [tab, setTab] = React.useState('trainer');

                const NavButton = (id, label) => e('button', {
                    onClick: () => setTab(id),
                    className: `px-6 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all shrink-0 ${tab === id ? 'tab-active' : 'text-slate-500 hover:bg-slate-200'}`
                }, label);

                // --- TAB 1: HOW YOU DID ---
                const PerformanceContent = e('div', { className: 'space-y-6 animate-in fade-in' },
                    e('div', { className: 'grid grid-cols-1 md:grid-cols-4 gap-4' },
                        [['Expertise', DATA.trainerPerformance.knowledge], ['Clarity', DATA.trainerPerformance.clarity], ['Engagement', DATA.trainerPerformance.engagement], ['Pacing', DATA.trainerPerformance.pacing]].map(([label, val]) => 
                            e('div', { key: label, className: 'bg-white p-6 rounded-2xl border border-slate-200 card-shadow text-center' },
                                e('p', { className: 'text-[9px] font-black text-slate-400 uppercase tracking-tighter' }, label),
                                e('h3', { className: 'text-3xl font-black text-blue-700' }, `${val}/5`),
                                e('div', { className: 'w-full bg-slate-100 h-1 mt-2 rounded-full overflow-hidden' },
                                    e('div', { className: 'bg-blue-600 h-full', style: { width: `${(val/5)*100}%` } })
                                )
                            )
                        )
                    ),
                    e('div', { className: 'grid grid-cols-1 lg:grid-cols-2 gap-6' },
                        e('div', { className: 'bg-white p-8 rounded-[2rem] border border-slate-200 h-96' },
                            e('h3', { className: 'text-[11px] font-black uppercase mb-6 text-center tracking-widest' }, 'Trainer Core Competencies'),
                            e(ResponsiveContainer, { width: '100%', height: '90%' },
                                e(RadarChart, { data: [
                                    { subject: 'Knowledge', A: DATA.trainerPerformance.knowledge },
                                    { subject: 'Clarity', A: DATA.trainerPerformance.clarity },
                                    { subject: 'Engagement', A: DATA.trainerPerformance.engagement },
                                    { subject: 'Pacing', A: DATA.trainerPerformance.pacing },
                                    { subject: 'Context', A: 5.0 }
                                ]},
                                    e(PolarGrid),
                                    e(PolarAngleAxis, { dataKey: 'subject' }),
                                    e(Radar, { dataKey: 'A', stroke: '#1d4ed8', fill: '#1d4ed8', fillOpacity: 0.5 })
                                )
                            )
                        ),
                        e('div', { className: 'bg-slate-900 text-white p-10 rounded-[2rem] flex flex-col justify-center' },
                            e('h3', { className: 'text-blue-400 text-[10px] font-black uppercase mb-6 tracking-widest' }, 'Qualitative Highlights'),
                            e('div', { className: 'space-y-6' },
                                [
                                    "Deep understanding of the Scottish context.",
                                    "Relevant, classroom-ready examples used throughout.",
                                    "Complex AI concepts made highly accessible."
                                ].map((q, i) => e('div', { key: i, className: 'flex gap-4 items-start' },
                                    e('div', { className: 'w-2 h-2 rounded-full bg-blue-500 mt-1.5' }),
                                    e('p', { className: 'text-sm font-medium text-slate-300 italic' }, `"${q}"`)
                                ))
                            )
                        )
                    )
                );

                // --- TAB 2: STAFF CONFIDENCE (DETAILED PER SESSION) ---
                const ConfidenceContent = e('div', { className: 'space-y-8 animate-in fade-in' },
                    DATA.sessions.map((session, i) => 
                        e('div', { key: i, className: 'bg-white rounded-[2rem] border border-slate-200 card-shadow overflow-hidden' },
                            e('div', { className: 'flex flex-col lg:flex-row' },
                                e('div', { className: `p-8 lg:w-1/3 flex flex-col justify-between ${i === 1 ? 'bg-indigo-50 border-r border-indigo-100' : 'bg-slate-50 border-r border-slate-100'}` },
                                    e('div', null,
                                        e('span', { className: 'px-3 py-1 bg-white border border-slate-200 rounded-full text-[9px] font-black uppercase text-slate-500 tracking-widest' }, `Session 0${session.id}`),
                                        e('h3', { className: 'text-xl font-black mt-4 leading-tight' }, session.title),
                                        e('p', { className: 'text-xs text-slate-500 font-bold mt-2 uppercase tracking-wide' }, `Focus: ${session.focus}`)
                                    ),
                                    e('div', { className: 'mt-8' },
                                        e('p', { className: 'text-[9px] font-black text-slate-400 uppercase tracking-widest' }, 'Key Metric'),
                                        e('h4', { className: 'text-3xl font-black text-slate-900 mt-1' }, session.metricVal),
                                        e('p', { className: 'text-[10px] font-bold text-slate-500' }, session.metric)
                                    )
                                ),
                                e('div', { className: 'p-8 lg:w-2/3' },
                                    e('div', { className: 'grid grid-cols-1 md:grid-cols-2 gap-8 items-center' },
                                        e('div', { className: 'h-48' },
                                            e(ResponsiveContainer, { width: '100%', height: '100%' },
                                                e(BarChart, { data: [{ name: 'Pre-Training', val: session.preConf }, { name: 'Post-Training', val: session.postConf }] },
                                                    e(CartesianGrid, { strokeDasharray: '3 3', vertical: false }),
                                                    e(XAxis, { dataKey: 'name', tick: {fontSize: 9} }),
                                                    e(YAxis, { domain: [0, 5], tick: {fontSize: 9} }),
                                                    e(Bar, { dataKey: 'val', fill: i === 1 ? '#4f46e5' : '#1d4ed8', radius: [4, 4, 0, 0], barSize: 40 })
                                                )
                                            )
                                        ),
                                        e('div', null,
                                            e('h4', { className: 'text-xs font-black uppercase tracking-widest text-slate-400 mb-2' }, 'Impact Summary'),
                                            e('p', { className: 'text-sm text-slate-600 leading-relaxed font-medium' }, session.summary),
                                            e('div', { className: 'mt-6 p-4 bg-slate-50 rounded-xl flex items-center justify-between' },
                                                e('span', { className: 'text-[10px] font-black uppercase text-slate-400' }, 'Confidence Growth'),
                                                e('span', { className: 'text-lg font-black text-emerald-600' }, `+${((session.postConf - session.preConf) / session.preConf * 100).toFixed(0)}%`)
                                            )
                                        )
                                    )
                                )
                            )
                        )
                    )
                );

                // --- TAB 3: LEARNER SENTIMENT ---
                const LearnerContent = e('div', { className: 'space-y-6 animate-in fade-in' },
                    e('div', { className: 'grid grid-cols-1 md:grid-cols-2 gap-6' },
                        e('div', { className: 'bg-blue-700 text-white p-10 rounded-[2.5rem] flex flex-col justify-center' },
                            e('h2', { className: 'text-5xl font-black mb-2 stat-value' }, `${DATA.learnerSentiment.comfortScore}%`),
                            e('p', { className: 'text-[10px] font-black uppercase tracking-widest opacity-80' }, 'Staff Comfort Level'),
                            e('p', { className: 'mt-4 text-sm font-medium leading-relaxed' }, 'A significant majority of staff are comfortable with pupils using Gen-AI in Glow, prioritizing career-readiness.')
                        ),
                        e('div', { className: 'bg-emerald-700 text-white p-10 rounded-[2.5rem] flex flex-col justify-center' },
                            e('h2', { className: 'text-5xl font-black mb-2 stat-value' }, '94%'),
                            e('p', { className: 'text-[10px] font-black uppercase tracking-widest opacity-80' }, 'Inclusive Potential'),
                            e('p', { className: 'mt-4 text-sm font-medium leading-relaxed' }, 'Teachers overwhelmingly believe AI is a powerful tool for bridging the accessibility gap for ASN learners.')
                        )
                    ),
                    e('div', { className: 'bg-white p-8 rounded-[2.5rem] border border-slate-200 h-96' },
                        e('h3', { className: 'text-[11px] font-black uppercase mb-4 text-center tracking-widest' }, 'Attendee View on Pupil AI Usage'),
                        e(ResponsiveContainer, { width: '100%', height: '90%' },
                            e(PieChart, null,
                                e(Pie, { data: DATA.learnerSentiment.views, innerRadius: 70, outerRadius: 100, paddingAngle: 5, dataKey: 'value' },
                                    DATA.learnerSentiment.views.map((entry, index) => e(Cell, { key: index, fill: COLORS[index % COLORS.length] }))
                                ),
                                e(Tooltip),
                                e(Legend, { verticalAlign: 'bottom' })
                            )
                        )
                    )
                );

                // --- TAB 4: ROADMAP ---
                const RoadmapContent = e('div', { className: 'grid grid-cols-1 lg:grid-cols-2 gap-6 animate-in fade-in' },
                    e('div', { className: 'bg-white p-10 rounded-[2.5rem] border border-slate-200' },
                        e('h3', { className: 'text-blue-700 text-sm font-black uppercase mb-6 tracking-widest' }, 'Strategic Next Steps'),
                        e('div', { className: 'space-y-6' },
                            DATA.roadmap.map((item, i) => e('div', { key: i, className: 'flex gap-4 items-start' },
                                e('div', { className: 'w-8 h-8 rounded-full bg-blue-50 text-blue-700 border border-blue-100 flex items-center justify-center text-xs font-black shrink-0' }, i + 1),
                                e('div', null,
                                    e('p', { className: 'text-sm font-bold text-slate-800' }, item.step),
                                    e('span', { className: 'text-[9px] font-black uppercase text-slate-400 tracking-widest' }, item.type)
                                )
                            ))
                        )
                    ),
                    e('div', { className: 'bg-slate-900 text-white p-10 rounded-[2.5rem] flex flex-col justify-center' },
                        e('h3', { className: 'text-amber-500 text-[10px] font-black uppercase mb-8 tracking-widest' }, 'Professional Learning Needs'),
                        e('div', { className: 'space-y-6' },
                            [
                                { label: 'Webinars', val: 45, color: 'bg-blue-600' },
                                { label: 'Self-Paced Guides', val: 30, color: 'bg-emerald-600' },
                                { label: 'Hands-on Workshops', val: 25, color: 'bg-amber-600' }
                            ].map((item, i) => e('div', { key: i },
                                e('div', { className: 'flex justify-between text-[10px] font-black uppercase mb-2 text-slate-400' },
                                    e('span', null, item.label), e('span', null, `${item.val}%`)
                                ),
                                e('div', { className: 'w-full bg-slate-800 h-3 rounded-full overflow-hidden' },
                                    e('div', { className: `${item.color} h-full`, style: { width: `${item.val}%` } })
                                )
                            ))
                        )
                    )
                );

                return e('div', { className: 'pb-20' },
                    e('header', { className: 'bg-white border-b border-slate-200 sticky top-0 z-50 py-4 shadow-sm' },
                        e('div', { className: 'max-w-6xl mx-auto px-4 flex flex-col md:flex-row items-center justify-between gap-4' },
                            e('div', null,
                                e('h1', { className: 'text-xl font-black text-blue-900 tracking-tighter uppercase' }, 'Gemini Impact Report'),
                                e('p', { className: 'text-[9px] font-black text-slate-400 uppercase tracking-widest' }, 'Scottish Education Technology Series')
                            ),
                            e('nav', { className: 'flex bg-slate-100 p-1 rounded-2xl gap-1 overflow-x-auto max-w-full scroll-hide' },
                                [
                                    { id: 'trainer', label: 'Trainer Performance' },
                                    { id: 'confidence', label: 'Staff Confidence' },
                                    { id: 'learners', label: 'Learner Sentiment' },
                                    { id: 'roadmap', label: 'Next Steps' }
                                ].map(t => NavButton(t.id, t.label))
                            )
                        )
                    ),
                    e('main', { className: 'max-w-6xl mx-auto px-4 mt-8' },
                        tab === 'trainer' && PerformanceContent,
                        tab === 'confidence' && ConfidenceContent,
                        tab === 'learners' && LearnerContent,
                        tab === 'roadmap' && RoadmapContent
                    ),
                    e('footer', { className: 'mt-20 text-center' },
                        e('div', { className: 'inline-flex items-center gap-4 px-6 py-2 bg-white rounded-full border border-slate-200' },
                            e('div', { className: 'w-2 h-2 rounded-full bg-emerald-500 animate-pulse' }),
                            e('span', { className: 'text-[10px] font-black text-slate-400 uppercase tracking-widest' }, 'Accessible Dashboard v3.5')
                        )
                    )
                );
            };

            const root = ReactDOM.createRoot(document.getElementById('root'));
            root.render(e(App));
        };

        window.onload = initApp;
    </script>
</body>
</html>