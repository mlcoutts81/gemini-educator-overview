<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gemini Teacher Series Impact Report</title>
    <!-- Tailwind CSS - High Reliability CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React & Charting Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prop-types/15.8.1/prop-types.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/recharts/2.12.7/Recharts.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800;900&display=swap');
        body { font-family: 'Inter', sans-serif; background-color: #f8fafc; color: #1e293b; }
        .recharts-text { font-size: 10px; font-weight: 600; fill: #64748b; }
        .tab-active { background-color: white; color: #1d4ed8; box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1); border: 1px solid #e2e8f0; }
        .loading-screen { display: flex; flex-direction: column; justify-content: center; align-items: center; height: 100vh; }
        .btn-tab { transition: all 0.2s; border: 1px solid transparent; }
    </style>
</head>
<body>
    <div id="root">
        <div class="loading-screen">
            <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mb-4"></div>
            <p class="text-slate-400 font-bold uppercase tracking-widest text-[10px]">Initializing Dashboard...</p>
        </div>
    </div>

    <script>
        // Use a "wait for ready" strategy to prevent crashes
        const initApp = () => {
            if (!window.Recharts || !window.React || !window.ReactDOM) {
                console.log("Libraries not ready, retrying...");
                setTimeout(initApp, 100);
                return;
            }

            const React = window.React;
            const e = React.createElement;
            const { 
                BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, 
                PieChart, Cell, Pie, RadarChart, PolarGrid, PolarAngleAxis, Radar 
            } = window.Recharts;

            const COLORS = ['#2563eb', '#10b981', '#f59e0b', '#8b5cf6', '#ef4444'];

            const DATA = {
                overall: {
                    metrics: [
                        { label: 'Expertise', val: '4.9/5', sub: 'Tech Knowledge', color: 'bg-blue-50 text-blue-600' },
                        { label: 'Clarity', val: '4.8/5', sub: 'Instruction', color: 'bg-emerald-50 text-emerald-600' },
                        { label: 'Engagement', val: '4.8/5', sub: 'Relevance', color: 'bg-indigo-50 text-indigo-600' },
                        { label: 'Pacing', val: '4.7/5', sub: 'Hands-on Time', color: 'bg-amber-50 text-amber-600' }
                    ],
                    radar: [
                        { subject: 'Expertise', A: 4.9 }, { subject: 'Clarity', A: 4.8 }, 
                        { subject: 'Engagement', A: 4.8 }, { subject: 'Pacing', A: 4.7 }, 
                        { subject: 'Examples', A: 4.9 }
                    ]
                },
                learners: {
                    comfort: 78, asn: 94,
                    sentiment: [
                        { name: 'Future Careers', value: 42 }, { name: 'Value Skills/Unready', value: 35 }, 
                        { name: 'Support Needed', value: 18 }, { name: 'Cautious', value: 5 }
                    ]
                },
                confidence: [
                    { name: 'S1 Pre', val: 1.8 }, { name: 'S1 Post', val: 4.2 },
                    { name: 'S3 Pre', val: 2.1 }, { name: 'S3 Post', val: 4.4 }
                ],
                next: [
                    "Subject-specific prompting for CfE levels",
                    "Google Classroom workflow integration",
                    "Ethical AI guidelines for pupil usage",
                    "ASN-specific accessibility walkthroughs"
                ]
            };

            const App = () => {
                const [tab, setTab] = React.useState('overall');

                const Header = e('header', { className: 'bg-white border-b border-slate-200 sticky top-0 z-50 py-4 shadow-sm' },
                    e('div', { className: 'max-w-6xl mx-auto px-4 flex flex-col md:flex-row items-center justify-between gap-4' },
                        e('div', null,
                            e('h1', { className: 'text-xl font-black text-blue-700 uppercase tracking-tighter' }, 'Gemini Teacher Impact'),
                            e('p', { className: 'text-[10px] font-bold text-slate-400 uppercase tracking-widest' }, 'Education Technology Coach â€¢ Scotland')
                        ),
                        e('nav', { className: 'flex bg-slate-100 p-1 rounded-xl gap-1' },
                            ['overall', 'learners', 'sessions', 'next'].map(t => 
                                e('button', {
                                    key: t,
                                    onClick: () => setTab(t),
                                    className: `px-4 py-2 rounded-lg text-[10px] font-black uppercase tracking-wider btn-tab ${tab === t ? 'tab-active' : 'text-slate-500 hover:text-slate-800'}`
                                }, t === 'next' ? 'Next Steps' : t)
                            )
                        )
                    )
                );

                const ContentOverall = e('div', { className: 'space-y-6 animate-in fade-in' },
                    e('div', { className: 'grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4' },
                        DATA.overall.metrics.map((m, i) => 
                            e('div', { key: i, className: 'bg-white p-6 rounded-2xl border border-slate-200 flex flex-col' },
                                e('p', { className: 'text-[10px] font-black text-slate-400 uppercase mb-1' }, m.label),
                                e('h3', { className: 'text-2xl font-black' }, m.val),
                                e('p', { className: 'text-[10px] font-bold text-slate-500 uppercase mt-1' }, m.sub)
                            )
                        )
                    ),
                    e('div', { className: 'grid grid-cols-1 lg:grid-cols-2 gap-6' },
                        e('div', { className: 'bg-white p-6 rounded-3xl border border-slate-200 h-80' },
                            e('h3', { className: 'text-[10px] font-black uppercase mb-4 text-center' }, 'Instructional Quality'),
                            e(ResponsiveContainer, { width: '100%', height: '90%' },
                                e(RadarChart, { cx: '50%', cy: '50%', outerRadius: '80%', data: DATA.overall.radar },
                                    e(PolarGrid),
                                    e(PolarAngleAxis, { dataKey: 'subject' }),
                                    e(Radar, { dataKey: 'A', stroke: '#2563eb', fill: '#3b82f6', fillOpacity: 0.6 })
                                )
                            )
                        ),
                        e('div', { className: 'bg-white p-8 rounded-3xl border border-slate-200 flex flex-col justify-center gap-4' },
                            e('div', { className: 'p-4 bg-blue-50 border-l-4 border-blue-500 rounded-r-xl' },
                                e('p', { className: 'italic text-sm text-slate-700' }, '"The trainer demonstrated a deep understanding of AI in a Scottish context."')
                            ),
                            e('div', { className: 'p-4 bg-emerald-50 border-l-4 border-emerald-500 rounded-r-xl' },
                                e('p', { className: 'italic text-sm text-slate-700' }, '"Relevant, classroom-ready examples that resonated with my daily practice."')
                            )
                        )
                    )
                );

                const ContentLearners = e('div', { className: 'space-y-6' },
                    e('div', { className: 'bg-indigo-700 text-white p-10 rounded-[2.5rem] flex flex-col md:flex-row justify-between items-center gap-8' },
                        e('div', { className: 'max-w-xl text-center md:text-left' },
                            e('h2', { className: 'text-3xl font-black mb-4 uppercase' }, 'Learner Usage & Ethics'),
                            e('p', { className: 'text-indigo-100 text-sm' }, 'Teachers strongly support AI for accessibility, while requesting guidance on ethical usage within Glow.')
                        ),
                        e('div', { className: 'bg-white/10 p-6 rounded-2xl border border-white/20 text-center min-w-[160px]' },
                            e('p', { className: 'text-5xl font-black' }, `${DATA.learners.comfort}%`),
                            e('p', { className: 'text-[10px] font-bold uppercase mt-2' }, 'Comfort Score')
                        )
                    ),
                    e('div', { className: 'grid grid-cols-1 lg:grid-cols-2 gap-6' },
                        e('div', { className: 'bg-white p-8 rounded-3xl border border-slate-200 flex items-center gap-8' },
                            e('div', { className: 'w-24 h-24 rounded-full border-8 border-indigo-100 border-t-indigo-600 flex items-center justify-center shrink-0' },
                                e('span', { className: 'text-2xl font-black text-indigo-700' }, `${DATA.learners.asn}%`)
                            ),
                            e('p', { className: 'text-sm text-slate-500 font-medium italic' }, 'Believe AI tools specifically bridge the gap for learners with additional support needs.')
                        ),
                        e('div', { className: 'bg-white p-8 rounded-3xl border border-slate-200 h-64' },
                            e(ResponsiveContainer, { width: '100%', height: '100%' },
                                e(PieChart, null,
                                    e(Pie, { data: DATA.learners.sentiment, innerRadius: 50, outerRadius: 70, paddingAngle: 5, dataKey: 'value' },
                                        DATA.learners.sentiment.map((entry, index) => e(Cell, { key: index, fill: COLORS[index % COLORS.length] }))
                                    ),
                                    e(Tooltip),
                                    e(Legend)
                                )
                            )
                        )
                    )
                );

                const ContentSessions = e('div', { className: 'bg-white p-8 rounded-3xl border border-slate-200 h-96' },
                    e('h3', { className: 'text-[10px] font-black uppercase mb-8 text-center' }, 'Confidence Growth (Scale 1-5)'),
                    e(ResponsiveContainer, { width: '100%', height: '80%' },
                        e(BarChart, { data: DATA.confidence },
                            e(CartesianGrid, { strokeDasharray: '3 3', vertical: false }),
                            e(XAxis, { dataKey: 'name' }),
                            e(YAxis, { domain: [0, 5] }),
                            e(Tooltip),
                            e(Bar, { dataKey: 'val', fill: '#3b82f6', radius: [6, 6, 0, 0], barSize: 60 })
                        )
                    )
                );

                const ContentNext = e('div', { className: 'grid grid-cols-1 lg:grid-cols-2 gap-6' },
                    e('div', { className: 'bg-slate-900 text-white p-8 rounded-[2rem] shadow-xl flex flex-col justify-center' },
                        e('h3', { className: 'text-emerald-400 text-xs font-black uppercase mb-6 tracking-widest' }, 'Strategic Roadmap'),
                        e('div', { className: 'space-y-4' },
                            DATA.next.map((p, i) => 
                                e('div', { key: i, className: 'flex gap-4' },
                                    e('div', { className: 'w-6 h-6 rounded-full bg-emerald-500/20 text-emerald-400 flex items-center justify-center text-[10px] font-bold shrink-0' }, i + 1),
                                    e('p', { className: 'text-sm text-slate-300' }, p)
                                )
                            )
                        )
                    ),
                    e('div', { className: 'bg-white p-8 rounded-[2rem] border border-slate-200 flex flex-col justify-center items-center text-center' },
                        e('h3', { className: 'font-black text-xl mb-4' }, 'Ongoing Support'),
                        e('p', { className: 'text-sm text-slate-500 mb-6' }, 'Participants requested more webinars and classroom-ready templates for Google Workspace.'),
                        e('div', { className: 'flex flex-wrap gap-2 justify-center' },
                            ['Webinars (45%)', 'Self-Paced (30%)', 'Classroom Examples (25%)'].map(tag => 
                                e('span', { key: tag, className: 'px-3 py-1 bg-slate-100 rounded-full text-[10px] font-bold' }, tag)
                            )
                        )
                    )
                );

                return e('div', null,
                    Header,
                    e('main', { className: 'max-w-6xl mx-auto px-4 mt-8' },
                        tab === 'overall' && ContentOverall,
                        tab === 'learners' && ContentLearners,
                        tab === 'sessions' && ContentSessions,
                        tab === 'next' && ContentNext
                    )
                );
            };

            const root = ReactDOM.createRoot(document.getElementById('root'));
            root.render(e(App));
        };

        // Start checking for libraries
        window.onload = initApp;
    </script>
</body>
</html>